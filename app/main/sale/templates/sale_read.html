{% extends "base.html" %}
{% block title %}Sales Orders{% endblock %}
{% block header %}
    <a href="{{ url_for('main.main') }}">Back</a>
    <h2>Sales</h2>
    <a href="{{ url_for('main.sale.sale_create.sale_create') }}">New Sales Order</a>
    <a href="{{ url_for('main.sale.customer.customer_read.customer_read') }}">Customers</a>
{% endblock %}
{% block content %}
    {% for sale in sales %}
        <article>
            <h2>{{ sale.order_number }}</h2>
            <p>Order Date: {{ sale.order_date.strftime('%Y-%m-%d') }}</p>
            <p>Customer Name: {{ sale.customer_name }}</p>
            <p>Delivery Date: {{ sale.delivery_date.strftime('%Y-%m-%d') if sale.delivery_date }}</p>
            <p>Status: {{ sale.status }}</p>
            <p>Total Amount: {{ sale.total_amount }}</p>
            <a href="{{ url_for('main.sale.sale_update.sale_update', id=sale.id) }}">Edit</a>
            <form action="{{ url_for('main.sale.sale_delete.sale_delete', id=sale.id) }}" method="POST">
                <button type="submit" onclick="return confirm('Are you sure you want to delete this sales order?')">Delete</button>
            </form>
        </article>
    {% else %}
        <p>No sales orders found</p>
    {% endfor %}
{% endblock %}